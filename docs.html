<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>API Documentation</title>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect fill='%23667eea' width='100' height='100'/%3E%3Ctext x='50' y='68' font-size='60' text-anchor='middle' fill='white' font-family='Segoe UI,Arial'%3EA%3C/text%3E%3C/svg%3E">
  <style>
    :root{--bg:#ffffff;--text:#111111;--muted:#666666;--card:#f4f4f4;--accent:#667eea}
    [data-theme='dark']{--bg:#0b1020;--text:#e6eef8;--muted:#9fb0d6;--card:#0f1724;--accent:#7c92ff}
    body{font-family:Segoe UI, Tahoma, Geneva, Verdana, sans-serif;margin:24px;color:var(--text);background:var(--bg);transition:background .2s,color .2s}
    pre{background:var(--card);padding:12px;border-radius:6px;overflow:auto;color:var(--text)}
    h1,h2{color:var(--text)}
    a.button{display:inline-block;padding:8px 12px;background:var(--accent);color:#fff;border-radius:6px;text-decoration:none}
    .theme-toggle{position:fixed;right:16px;top:16px;background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--text);padding:8px;border-radius:8px;cursor:pointer}
  </style>
</head>
<body>
  <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">ðŸŒ™</button>
  <h1>API Documentation</h1>
  <p>This page documents how to call the API included in this repository.</p>

  <h2>Overview</h2>
  <p>The repository includes a Netlify Function at <code>functions/stockProxy.js</code>. When deployed on Netlify the function is available at <code>/.netlify/functions/stockProxy</code>. Locally it can be invoked via your dev server or Netlify CLI.</p>

  <h2>Base URL</h2>
  <p>If hosted on Netlify or served from the repo root, use the site root as the base URL. Example (production):</p>
  <pre>https://your-site.netlify.app/.netlify/functions/stockProxy</pre>

  <h2>Endpoints</h2>
  <h3>GET /.netlify/functions/stockProxy?symbol={symbol}</h3>
  <p>Query parameters:</p>
  <ul>
    <li><strong>symbol</strong> â€” stock ticker (required).</li>
  </ul>

  <h2>Examples</h2>
  <p>curl</p>
  <pre>curl "https://your-site.netlify.app/.netlify/functions/stockProxy?symbol=TSLA"</pre>

  <p>Fetch (browser / node)</p>
  <pre>fetch('/.netlify/functions/stockProxy?symbol=TSLA')
  .then(r =&gt; r.json())
  .then(data =&gt; console.log(data))
  .catch(console.error)</pre>

  <h2>Response</h2>
  <p>The function proxied response may vary depending on the upstream API. Typical JSON structure:</p>
  <pre>{
  "symbol": "TSLA",
  "price": 123.45,
  "timestamp": "2025-12-14T12:00:00Z"
}</pre>

  <h2>Authentication & Rate Limits</h2>
  <p>Check the upstream API requirements. This repo's function may include an API key or proxy logic â€” review <code>functions/stockProxy.js</code> for details.</p>

  <h2>Troubleshooting</h2>
  <ul>
    <li>If you get CORS errors while testing locally, run the Netlify dev server: <code>netlify dev</code>.</li>
    <li>Inspect server logs or the function file for API key configuration.</li>
  </ul>

  <p>If you'd like, I can expand this page with full reference docs, examples for other endpoints, or deployment instructions.</p>
  <script>
    (function(){
      const btn = document.getElementById('themeToggle');
      const root = document.documentElement;
      function apply(theme){
        if(theme === 'dark') root.setAttribute('data-theme','dark');
        else root.removeAttribute('data-theme');
        btn.textContent = theme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
      }
      const saved = localStorage.getItem('site-theme') || (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
      apply(saved);
      btn.addEventListener('click', ()=>{
        const next = (document.documentElement.getAttribute('data-theme') === 'dark') ? 'light' : 'dark';
        localStorage.setItem('site-theme', next);
        apply(next);
      });
    })();
  </script>
</body>
</html>
